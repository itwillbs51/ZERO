<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.zero.mapper.AdminMapper">
	<!-- 회원 목록 조회 -->
	<select id="selectMemberList" resultType="com.itwillbs.zero.vo.MemberVO">
		SELECT * FROM MEMBER
	</select>
	
	
	<!-- 회원 정보 조회 -->
	<select id="selectMember" resultType="com.itwillbs.zero.vo.MemberVO">
		SELECT * FROM MEMBER
		WHERE member_idx = #{member_idx}
	</select>
	
	<!-- 고객센터관리 - 공지사항 목록 조회 -->
	<select id="selectCsList"  resultType="com.itwillbs.zero.vo.CsVO">
		SELECT * FROM CS
		WHERE cs_type = '공지'
	</select>
	
	
	<!-- 고객센터관리 - 공지사항 글쓰기 -->
	<insert id="insertNotice" parameterType="com.itwillbs.zero.vo.CsVO">
		INSERT INTO 
<!-- 			<selectKey keyProperty="cs_type_list_idx" resultType="int" order="BEFORE">			 -->
<!-- 				SELECT -->
<!-- 					IFNULL(MAX(cs_type_list_idx), 0) -->
<!-- 						FROM -->
<!-- 			   				CS -->
<!-- 			   			WHERE -->
<!-- 			   				cs_type  = #{cs_type} -->
<!-- 			</selectKey> -->
			CS(
				cs_idx
				, cs_subject
				, cs_content
				, cs_date
				, member_idx
				, cs_type
				, cs_file
<!-- 				, cs_type_list_idx -->
			)
			VALUES(
				null
				, #{cs_subject}
				, #{cs_content}
				, now()
				, #{member_idx}
				, #{cs_type}
				, #{cs_file}
<!-- 				, #{cs_type_list_idx} + 1 -->
			)
				
	</insert>
</mapper>
